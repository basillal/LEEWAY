
<div *ngIf="!isMobileScreen()" class="font-inter main_container dark:bg-gray-800">

<div style="position: relative; width: 100%; display: flex; justify-content: flex-start; padding: 20px 20px 20px 20px; max-height: 100vh; overflow: hidden;">
  <img src="assets/homepage.png" alt="Homepage Image" style="max-width: 100%; max-height: 100%; height: auto; object-fit: contain; border-radius: 12px; object-position: left;">
</div>
  
    <div class="right dark:bg-gray-800 relative" style="margin-top: 100px;">
      <div style="width: 70%; margin: 0 auto; text-align: center;">
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap');
    @import url('https://fonts.googleapis.com/css2?family=Adamina&display=swap');
  </style>

   <h2 style="font-family: 'Adamina', serif; font-size: 30px; text-align: left; margin-bottom: 3rem;">Login to KJusys</h2>


  <form [formGroup]="loginForm" (ngSubmit)="login()" style="display: flex; flex-direction: column; text-align: left;">
    <div style="margin-bottom: 1.5rem;">
      <label for="email" style="display: block; margin-bottom: 0.5rem; font-family: 'Inter', sans-serif; color: #718096;" class="text-sm">E-mail</label>
      <input type="email" formControlName="login_Email" id="email" placeholder="Enter your Email" required style="width: 100%; padding: 0.5rem; font-family: 'Inter', sans-serif; font-size: 11px; background-color: #f7f9fa; border: 1px solid #CBD5E0; border-radius: 12px; color: #4A5568;">
        <div id="emailHelp" aria-live="polite" style="margin-top: 0.5rem;">
          <div *ngIf="loginForm.get('login_Email')?.touched && loginForm.get('login_Email')?.invalid" class="error-messages" style="color: #E53E3E; font-size: 11px;">
            <div *ngIf="loginForm.get('login_Email')?.errors?.['required']">Email is required.</div>
            <div *ngIf="loginForm.get('login_Email')?.errors?.['email']">Enter a valid email address.</div>
            <!-- Show domain error only when email format is valid (avoid duplicate/confusing messages) -->
            <div *ngIf="loginForm.get('login_Email')?.errors?.['domain'] && !loginForm.get('login_Email')?.errors?.['email']">
              Email must be on the allowed domain: @kristujayanti.com
        
            </div>
          </div>
        </div>
    

    </div>
    <div style="margin-bottom: 0.5rem; position: relative;">
  <label for="password" style="display: block; margin-bottom: 0.5rem; font-family: 'Inter', sans-serif; color: #718096;" class="text-sm">Password</label>
  <div style="position: relative; width: 100%;">
    <input 
      [type]="showPassword ? 'text' : 'password'" 
      formControlName="login_Password" 
      id="password" 
      placeholder="Enter your Password" 
      required 
      style="width: 100%; padding: 0.5rem; padding-right: 3rem; font-family: 'Inter', sans-serif; font-size: 11px; background-color: #f7f9fa; border: 1px solid #CBD5E0; border-radius: 12px; color: #4A5568;"
      onfocus="this.placeholder=''"
      onblur="this.placeholder='Enter your Password'">
    <div style="position: absolute; right: 40px; top: 50%; transform: translateY(-50%); height: 20px; border-left: 1px solid #CBD5E0;"></div>
    <svg *ngIf="!showPassword" (click)="showPassword = !showPassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; border-radius: 4px;" class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="none" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-width="2" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"/>
      <path stroke="currentColor" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
    </svg>
    <svg *ngIf="showPassword" (click)="showPassword = !showPassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; border-radius: 4px;" class="w-4 h-4 text-gray-800 dark:text-white" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="17" height="17" fill="none" viewBox="0 0 24 24">
      <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
    </svg>
  </div>
  <div *ngIf="loginForm.get('login_Password')?.touched && loginForm.get('login_Password')?.invalid" style="color: #ff0000; margin-top: 0.25rem;" class="text-xs">
    <div *ngIf="loginForm.get('login_Password')?.errors?.['required']">Password is required.</div>
  </div>
    </div>
    <a routerLink="/forgotpassword" style="font-size: 0.7rem; font-family: 'Inter', sans-serif; color: #000000; text-decoration: none; text-align: right; display: block; margin-bottom: 1.2rem; font-weight: 500;">Forgot Password?</a>
    <button (click)="login()" style="width: 100%; padding: 0.75rem; background-color: #000; color: #fff; border: none; cursor: pointer; font-family: 'Inter', sans-serif; border-radius: 12px;" class="text-sm">Log in</button>
  </form>

  <div style="text-align: center; margin-top: 10rem;">
    <hr style="border: 0; border-top: 1px solid #718096; width: 30%; display: inline-block; vertical-align: middle;">
    <p style="display: inline-block; margin: 0 1rem; font-family: 'Inter', sans-serif; color: #67728A;" class="text-[11px]">Powered by</p>
    <hr style="border: 0; border-top: 1px solid #718096; width: 30%; display: inline-block; vertical-align: middle;">
  </div>

 <div style="display: flex; justify-content: center; align-items: center; margin-top: 1rem;">
    <img src="assets/logo.png" alt="Logo" style="width: 40px; height: 40px;">
</div>



 <div style="text-align: center; margin-top: 1rem;">
  <p style="font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; color: #0B0B0B;" class="text-[14px]">
    <!-- <img src="assets/logo.png" alt="Logo" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 0.5rem;"> -->
    Kristu Jayanti Software Development Centre
  </p>
  <p style="font-family: 'Inter', sans-serif; margin-top: 0.5rem; color: #718096;" class="text-[11px]">An Initiative of</p>
  <p style="font-family: 'Inter', sans-serif; margin-top: 0.3rem; color: #67728A;" class="text-xs">Kristu Jayanti (Deemed to be University)</p>
</div>

</div>
    </div>
    
</div> 

<div *ngIf="isMobileScreen()" style="display: flex; justify-content: center; width: 100%; background-color: #ffffff;">
  <div style="width: 100%; max-width: 450px; margin: 0 auto; overflow-y: auto; max-height: 100vh; padding: 20px; box-sizing: border-box; margin-bottom: 70px">
    <style>
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400&display=swap');
      @import url('https://fonts.googleapis.com/css2?family=Adamina&display=swap');
    </style>

    <div style="display: flex; justify-content: center; padding-left: 25px; padding-right: 25px;">
      <img src="assets/KJC Logo2.png" alt="Homepage Image" style="width: 330px; margin-top: 60px; margin-bottom: 40px; border-radius: 12px;">
    </div>

    <h2 style="font-family: 'Adamina', serif; font-size: 20px; text-align: left; margin-bottom: 1.8rem; padding-left: 25px; padding-right: 25px; font-weight: 200;">Login to KJusys</h2>

    <form [formGroup]="loginForm" (ngSubmit)="login()" style="display: flex; flex-direction: column; text-align: left; padding-left: 25px; padding-right: 25px;">
      <div style="margin-bottom: 1.5rem;">
        <label for="email" style="display: block; margin-bottom: 0.5rem; font-family: 'Inter', sans-serif; color: #718096; font-size: 12px;">E-mail</label>
        <input type="email" formControlName="login_Email" id="email" placeholder="Enter your Email" required style="width: 100%; padding: 0.5rem; font-family: 'Inter', sans-serif; font-size: 11px; background-color: #f7f9fa; border: 1px solid #CBD5E0; border-radius: 12px; color: #4A5568;">
          <div id="emailHelp" aria-live="polite" style="margin-top: 0.5rem;">
          <div *ngIf="loginForm.get('login_Email')?.touched && loginForm.get('login_Email')?.invalid" class="error-messages" style="color: #E53E3E; font-size: 11px;">
            <div *ngIf="loginForm.get('login_Email')?.errors?.['required']">Email is required.</div>
            <div *ngIf="loginForm.get('login_Email')?.errors?.['email']">Enter a valid email address.</div>
            <!-- Show domain error only when email format is valid (avoid duplicate/confusing messages) -->
            <div *ngIf="loginForm.get('login_Email')?.errors?.['domain'] && !loginForm.get('login_Email')?.errors?.['email']">
              Email must be on the allowed domain: @kristujayanti.com
        
            </div>
          </div>
        </div>
      </div>
      <div style="margin-bottom: 0.5rem; position: relative;">
        <label for="password" style="display: block; margin-bottom: 0.5rem; font-family: 'Inter', sans-serif; color: #718096; font-size: 12px;">Password</label>
        <div style="position: relative; width: 100%;">
          <input 
            [type]="showPassword ? 'text' : 'password'" 
            formControlName="login_Password" 
            id="password" 
            placeholder="Enter your Password" 
            required 
            style="width: 100%; padding: 0.5rem; padding-right: 3rem; font-family: 'Inter', sans-serif; font-size: 11px; background-color: #f7f9fa; border: 1px solid #CBD5E0; border-radius: 12px; color: #4A5568;"
            onfocus="this.placeholder=''"
            onblur="this.placeholder='Enter your Password'">
          <div style="position: absolute; right: 40px; top: 50%; transform: translateY(-50%); height: 20px; border-left: 1px solid #CBD5E0;"></div>
          <svg *ngIf="!showPassword" (click)="showPassword = !showPassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; border-radius: 4px; width: 17px; height: 17px; color: #4A5568;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-width="2" d="M21 12c0 1.2-4.03 6-9 6s-9-4.8-9-6c0-1.2 4.03-6 9-6s9 4.8 9 6Z"/>
            <path stroke="currentColor" stroke-width="2" d="M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
          </svg>
          <svg *ngIf="showPassword" (click)="showPassword = !showPassword" style="position: absolute; right: 10px; top: 50%; transform: translateY(-50%); cursor: pointer; border-radius: 4px; width: 17px; height: 17px; color: #4A5568;" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24">
            <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3.933 13.909A4.357 4.357 0 0 1 3 12c0-1 4-6 9-6m7.6 3.8A5.068 5.068 0 0 1 21 12c0 1-3 6-9 6-.314 0-.62-.014-.918-.04M5 19 19 5m-4 7a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"/>
          </svg>
        </div>
        <div *ngIf="loginForm.get('login_Password')?.touched && loginForm.get('login_Password')?.invalid" style="color: #ff0000; margin-top: 0.25rem; font-size: 12px;">
          <div *ngIf="loginForm.get('login_Password')?.errors?.['required']">Password is required.</div>
        </div>
      </div>
      <a routerLink="/forgotpassword" style="font-size: 0.7rem; font-family: 'Inter', sans-serif; color: #000000; text-decoration: none; text-align: right; display: block; margin-bottom: 1.2rem; font-weight: 500;">Forgot Password?</a>
      <button type="submit" style="width: 100%; padding: 0.75rem; background-color: #000000; color: #ffffff; border: none; cursor: pointer; font-family: 'Inter', sans-serif; border-radius: 12px; font-size: 14px;">Log in</button>
    </form>

    <div style="text-align: center; margin-top: 4rem; padding-left: 25px; padding-right: 25px;">
      <hr style="border: 0; border-top: 1px solid #718096; width: 30%; display: inline-block; vertical-align: middle;">
      <p style="display: inline-block; margin: 0 1rem; font-family: 'Inter', sans-serif; color: #67728A; font-size: 11px;">Powered by</p>
      <hr style="border: 0; border-top: 1px solid #718096; width: 30%; display: inline-block; vertical-align: middle;">
    </div>

    <div style="text-align: center; margin-top: 1rem; padding-left: 25px; padding-right: 25px;">
      <p style="font-family: 'Inter', sans-serif; display: flex; align-items: center; justify-content: center; color: #0B0B0B; font-size: 12px;">
        <img src="assets/logo.png" alt="Logo" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 0.5rem;">
        Kristu Jayanti Software Development Centre
      </p>
      <p style="font-family: 'Inter', sans-serif; margin-top: 0.5rem; color: #718096; font-size: 11px;">An Initiative of</p>
      <p style="font-family: 'Inter', sans-serif; margin-top: 0.3rem; color: #67728A; font-size: 12px;">Kristu Jayanti (Deemed to be University)</p>
    </div>

    <div style="display: flex; justify-content: center; padding-left: 18px; padding-right: 18px;">
      <img src="assets/loginbanner.png" alt="Homepage Image" style="width: 100%; margin-top: 60px; margin-bottom: 40px; border-radius: 12px;">
    </div>
  </div>
</div>

<router-outlet></router-outlet>
<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "default" color = "#fff" type = "timer" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
     
